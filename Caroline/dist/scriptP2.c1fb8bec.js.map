{"version":3,"sources":["scriptP2.js"],"names":["cardPerso","document","querySelector","containerNames","epPerso","urls","index","length","url","Promise","all","map","fetch","then","resp","r","json","data","tabSpecies","getElementsByClassName","i","addEventListener","tabData","results","concat","innerHTML","perso","species","createCard","getCharacterDetails","listUriCharacter","episode","getCharacterEpisodes","catch","error","console","character","id","image","name","status","type","gender","origin","location","listUriEpisode","reponse","uri","response","ep","log","ulEp","getElementById"],"mappings":"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","file":"scriptP2.c1fb8bec.js","sourceRoot":"..","sourcesContent":["const cardPerso = document.querySelector(\".perso__cards\");\r\nconst containerNames = document.querySelector(\".perso__names\");\r\nconst epPerso = document.querySelector(\".perso__ep\")\r\n\r\nlet urls = [\"https://rickandmortyapi.com/api/character\", \"https://rickandmortyapi.com/api/character/?page=2\", \"https://rickandmortyapi.com/api/character/?page=3\"];\r\nfor (let index = 0; index < urls.length; index++) {\r\n    const url = urls[index];\r\n}\r\nPromise.all(urls.map(url => fetch(url)))\r\n    .then(resp => Promise.all(resp.map(r => r.json())))\r\n\r\n    .then(function (data) {\r\n        let tabSpecies = document.getElementsByClassName('species');\r\n        for (let i = 0; i < tabSpecies.length; i++) {\r\n            // console.log(tabSpecies);\r\n            tabSpecies[i].addEventListener('click', () => {\r\n\r\n                let tabData = data[0].results.concat(data[1].results, data[2].results);\r\n                cardPerso.innerHTML = \"\";\r\n                for (let perso of tabData) {\r\n\r\n                    if (perso.species == \"Human\" && i == 0) {\r\n                        createCard(perso);\r\n                        getCharacterDetails(perso);\r\n\r\n                        let listUriCharacter = perso.episode;\r\n                        // console.log(perso.episode)    \r\n\r\n\r\n                        getCharacterEpisodes(listUriCharacter, perso);\r\n\r\n                    } else if (perso.species === \"Alien\" && i == 1) {\r\n                        createCard(perso);\r\n                        getCharacterDetails(perso);\r\n\r\n                        let listUriCharacter = perso.episode;\r\n                        // console.log(perso.episode)    \r\n\r\n\r\n                        getCharacterEpisodes(listUriCharacter, perso);\r\n                    } else if (perso.species != \"Human\" && perso.species != \"Alien\" && i == 2) {\r\n                        createCard(perso);\r\n                        getCharacterDetails(perso);\r\n\r\n                        let listUriCharacter = perso.episode;\r\n                        // console.log(perso.episode)    \r\n\r\n\r\n                        getCharacterEpisodes(listUriCharacter, perso);\r\n                    }\r\n\r\n\r\n                }\r\n            })\r\n        }\r\n\r\n    })\r\n    .catch((error) => {\r\n        console.error(error);\r\n    })\r\n\r\n\r\nfunction createCard(character) {\r\n    cardPerso.innerHTML += `<div class=\"perso__card id=\"perso-${character.id}\"><div class=\"container__img--perso\"><img class=\"avatar\" src=\"${character.image}\"></div>\r\n                <div class=\"container__button\">\r\n                    <button class=\"button__perso\">${character.name}</button>\r\n                </div></div>`\r\n}\r\n\r\nfunction getCharacterDetails(results) {\r\n\r\n    cardPerso.innerHTML += `<div class=\"perso__details hide\"><span>Status : ${results.status}</span>\r\n    <span>Espèce : ${results.species}</span>\r\n    <span>Type : ${results.type}</span>\r\n    <span>Genre : ${results.gender}</span>\r\n    <span>Origine : ${results.origin.name}</span>\r\n    <span>Dernier lieu : ${results.location.name}</span>\r\n    <div id=\"ep-char-${results.id}\" class=\"ep__number\">Présent dans ${results.episode.length} épisode(s).</div><ul id=\"list-ep-${results.id}\" class=\"listEp\"></ul></div>`\r\n}\r\n\r\nfunction getCharacterEpisodes(listUriEpisode, results) {\r\n    let reponse = [];\r\n\r\n    for (const uri of listUriEpisode) {\r\n        fetch(uri)\r\n            .then((response) => {\r\n                // console.log(response.json())           \r\n                return response.json()\r\n            }).then((ep) => {\r\n                console.log(ep)\r\n                // reponse.push(ep);\r\n                let ulEp = document.getElementById(`list-ep-${results.id}`)\r\n                ulEp.innerHTML += `<li class=\"elemList__ep\">${ep.name}</li>`\r\n            })\r\n    }\r\n}\r\n\r\n"]}